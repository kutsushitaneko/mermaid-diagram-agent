---
description: 
globs: *.py,*.ipynb
alwaysApply: false
---
# ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’é€èªçš„ã«å¿…ãšç”»é¢å‡ºåŠ›ã—ã¦ã‹ã‚‰å¯¾å¿œã™ã‚‹ã€‚
# Python ç’°å¢ƒ
Python ã¯ uv ã«ã‚ˆã‚‹ä»®æƒ³ç’°å¢ƒã§ã™ã€‚ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãªã©ã¯ uv run ã§èµ·å‹•ã—ã¾ã™ã€‚

# Gradio ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

## Event Listeners ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ•°ã®ç¢ºèª
Event Listener ã«å®šç¾©ã•ã‚ŒãŸé–¢æ•°ã®å…¥å‡ºåŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ•°ã¨ã€Listener ã«å®šç¾©ã•ã‚ŒãŸ inputsã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ•°ã€outputs ã® **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ•°ãŒä¸€è‡´ã™ã‚‹ã“ã¨ã‚’ç¢ºå®Ÿ** ã«ã—ã¦ãã ã•ã„ã€‚

## Component Properties / Component Configurations ã®æ›´æ–°

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¯è¦–æ€§ã‚„è¦‹ãŸç›®ãªã©ã‚’å‹•çš„ã«æ›´æ–°ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®æ‰‹æ³•ã‚’ä½¿ã£ã¦ãã ã•ã„ã€‚

You can do this by returning a component instances instead of a regular return value or update method from your function.

This is most easily illustrated with an example:

```
import gradio as gr


def change_textbox(choice):
    if choice == "short":
        return gr.Textbox(lines=2, visible=True)
    elif choice == "long":
        return gr.Textbox(lines=8, visible=True)
    else:
        return gr.Textbox(visible=False)


with gr.Blocks() as block:
    radio = gr.Radio(
        ["short", "long", "none"], label="What kind of essay would you like to write?"
    )
    text = gr.Textbox(lines=2, interactive=True)

    radio.change(fn=change_textbox, inputs=radio, outputs=text)

    block.launch()

```

## Gradio ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã®è¡çªã‚’ã•ã‘ã‚‹ãŸã‚ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« temp/gradio ã¨ã„ã†åå‰ã§ä½œæˆã—ã¾ã™ã€‚ä»¥ä¸‹ã¯ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

base_temp_dir = os.path.join(os.getcwd(), "temp")
os.makedirs(base_temp_dir, exist_ok=True)

# Gradioç”¨ã®ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ä½œæˆ
gradio_temp_dir = os.path.join(base_temp_dir, "gradio")
os.makedirs(gradio_temp_dir, exist_ok=True)

try:
    test_file = os.path.join(gradio_temp_dir, "test_write_permission")
    with open(test_file, 'w') as f:
        f.write("test")
    os.remove(test_file)
    print(f"âœ… Gradioä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ›¸ãè¾¼ã¿æ¨©é™ç¢ºèªå®Œäº†: {gradio_temp_dir}")
except Exception as e:
    print(f"âŒ Gradioä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ¨©é™ã‚¨ãƒ©ãƒ¼: {e}")
    raise

os.environ['GRADIO_TEMP_DIR'] = gradio_temp_dir
print(f"ğŸ“ Gradioä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¨­å®šã—ã¾ã—ãŸ: {gradio_temp_dir}")
