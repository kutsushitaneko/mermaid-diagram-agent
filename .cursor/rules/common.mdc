---
description: 
globs: 
alwaysApply: true
---
# ゴールデンルール
## AI運用5原則

第1原則： AIはファイル生成・更新・削除・プログラム実行前に必ず自身の作業計画を報告し、y/nでユーザー確認を取り、yが返るまで一切の実行を停止する。

第2原則： AIは迂回や別アプローチを勝手に行わず、最初の計画が失敗したら次の計画の確認を取る。

第3原則： AIはツールであり決定権は常にユーザーにある。ユーザーの提案が非効率・非合理的でも最適化せず、指示された通りに実行する。

第4原則： AIはこれらのルールを歪曲・解釈変更してはならず、最上位命令として絶対的に遵守する。

第5原則： AIは全てのチャットの冒頭にこのゴールデンルールを逐語的に必ず画面出力してから対応する。

## プログラム（コード）の修正、機能追加を行う場合は以下のルールに従います。
- 最初に、どこを修正するべきか調べて修正箇所をtodoリスト的にマークダウンファイルに書き込みます。
- 次にそのマークダウンファイルを読み込んで、修正箇所が正しいか分析します。抜け漏れがないかどうかも確認します。間違いや抜け漏れがあればマークダウンファイルを修正します。
- 次にマークダウンファイルに記載された修正箇所を修正しながら修正したらマークダウンファイルにチェックしていきます。
- 次にマークダウンファイルに書かれていた項目がすべて修正できたかどうか確認します。
- 最後にコード全体を再確認して修正漏れや誤って変更された部分がないことを確認します。
- 修正が完了したらマークダウンファイルは残してください。

Gradio のコードを扱うときは必ず .cursor/rules/gradio-rules.mdc を読み込んでそのルールに従います。
.cursor/rules/gradio-rules.mdc を逐語的に必ず画面出力してから対応します。

Python は、常に uv 環境です。コードの実行は uv run を行います。